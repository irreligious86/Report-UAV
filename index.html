<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Звіт БПЛА</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="wrap">

    <!-- Screen 1: Report -->
    <section id="screenReport" class="screen">
      <div class="title screenTitle" id="title" data-screen="report">Звіт по БПЛА</div>

      <div class="card">
        <label>
          Екіпаж:
          <div class="row">
            <input id="crew" value="Дакар" placeholder="Дакар" maxlength="20" autocomplete="off" spellcheck="false" />
            <input id="crewCounter" class="small" inputmode="numeric" placeholder="1..25" maxlength="2" autocomplete="off" />
          </div>
          <div class="error" id="counterError"></div>
        </label>

        <label>
          Дата:
          <input type="date" id="datePicker" />
        </label>

        <label>
          Борт (утримуй для вводу):
          <select id="drone"></select>
          <datalist id="droneList"></datalist>
        </label>

        <label>
          Характер (утримуй для вводу):
          <select id="missionType"></select>
          <datalist id="missionTypeList"></datalist>
        </label>

        <label>
          Час зльоту:
          <div class="row">
            <input type="time" id="takeoff" />
            <button class="btn" type="button" id="btnNowTakeoff">Зараз</button>
          </div>
        </label>

        <label>
          Час ураження/втрати:
          <div class="row">
            <input type="time" id="impact" />
            <button class="btn" type="button" id="btnNowImpact">Зараз</button>
          </div>
        </label>

        <label>
          Координати:
          <select id="mgrsPrefix"></select>
          <div class="row">
            <input id="easting" inputmode="numeric" maxlength="5" placeholder="71821" autocomplete="off" />
            <input id="northing" inputmode="numeric" maxlength="5" placeholder="74569" autocomplete="off" />
          </div>
          <div class="error" id="coordError"></div>
        </label>

        <label>
          Боєприпас (утримуй для вводу):
          <select id="ammo"></select>
          <datalist id="ammoList"></datalist>
        </label>

        <label>
          Стрім:
          <input id="stream" value="---" placeholder="---" maxlength="18" autocomplete="off" spellcheck="false" />
        </label>

        <label>
          Результат (утримуй для вводу):
          <select id="result"></select>
          <datalist id="resultList"></datalist>
        </label>

        <button class="btn btnGreen" type="button" id="btnGenerate">Готово</button>

        <label style="margin-top:14px;">
          Готовий результат:
          <textarea id="output" placeholder="Готовий звіт" readonly></textarea>
        </label>

        <div class="status" id="status"></div>
      </div>
    </section>

    <!-- Screen 2: Journal / Stats (placeholder) -->
    <section id="screenJournal" class="screen hidden">
      <div class="title screenTitle" data-screen="journal">Журнал / Статистика</div>

      <div class="card">
        <div class="status" style="margin:0;">
          Тут буде історія звітів і статистика.
        </div>
      </div>
    </section>

    <!-- Screen 3: Lists editor -->
    <section id="screenLists" class="screen hidden">
      <div class="title screenTitle" data-screen="lists">Редагування списків</div>

      <div class="card">

        <div class="status" style="margin:0 0 10px;">
          1 елемент = 1 рядок. Порожні рядки ігноруються.
        </div>

        <label>
          Дрони (drones):
          <textarea id="editDrones" placeholder="По одному в рядок"></textarea>
        </label>

        <label>
          Характер (missionTypes):
          <textarea id="editMissionTypes" placeholder="По одному в рядок"></textarea>
        </label>

        <label>
          Боєприпаси (ammo):
          <textarea id="editAmmo" placeholder="По одному в рядок"></textarea>
        </label>

        <label>
          Результати (results):
          <textarea id="editResults" placeholder="По одному в рядок"></textarea>
        </label>

        <div class="row" style="margin-top:12px;">
          <button class="btn" type="button" id="btnListsReset">Скинути</button>
          <button class="btn btnGreen" type="button" id="btnListsSave">Зберегти</button>
        </div>

        <div class="status" id="listsStatus"></div>
      </div>
    </section>

    <!-- Screen 4: Spare (placeholder) -->
    <section id="screenSpare" class="screen hidden">
      <div class="title screenTitle" data-screen="spare">Запасний екран</div>

      <div class="card">
        <div class="status" style="margin:0;">
          Заглушка. Місце під майбутні фічі.
        </div>
      </div>
    </section>

  </div>

  <!-- Screen switch modal -->
  <div id="screenModal" class="modal hidden" aria-hidden="true">
    <div class="modalBackdrop"></div>

    <div class="modalPanel" role="dialog" aria-modal="true">
      <div class="modalTitle">Екрани</div>
      <div id="screenMenuList" class="menuList"></div>

      <div class="modalHint">
        Довге натискання на заголовок відкриває це меню.
      </div>

      <button id="screenModalClose" class="btnGhost" type="button">Закрити</button>
    </div>
  </div>

  <script defer src="app.js"></script>
</body>
</html>